(function(){"use strict";window.addEventListener("DOMContentLoaded",function(){function populateSelectList(locations,apiPath,selectList,culture){const values=Array.from(locations).map(({value})=>value),data={Culture:culture,Locations:values};fetch(apiBasePath+apiPath,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-ph":"internal"},body:JSON.stringify(data)}).then(response=>response.json()).then(options=>{const instance=selectList.tomselect;instance&&(instance.clearOptions(),options.forEach(function(opt){instance.addOption({value:opt,text:opt})}))}).catch(error=>console.error("Error updating locations: "+apiPath,error))}const countrySelect=document.getElementById("l-country"),regionSelect=document.getElementById("l-region"),locationSelect=document.getElementById("l-location"),culture=document.querySelector("html").getAttribute("lang"),apiBasePath="/JobsApi/";countrySelect&&countrySelect.addEventListener("change",function(){const country=this.selectedOptions;populateSelectList(country,"GetRegionsForCountry/",regionSelect,culture);populateSelectList(country,"GetLocationsForCountry/",locationSelect,culture)},!1);regionSelect&&regionSelect.addEventListener("change",function(){const region=this.selectedOptions;if(region.length>0)populateSelectList(region,"GetLocationsForRegion/",locationSelect,culture);else if(countrySelect){var country=countrySelect.selectedOptions;populateSelectList(country,"GetLocationsForCountry/",locationSelect,culture)}else populateSelectList(region,"GetLocationsForRegion/",locationSelect,culture)},!0)})})();
//# sourceMappingURL=/phb/nmap/lookups.js.v6809c9636e2f89ece13d974666497f1292ea8561